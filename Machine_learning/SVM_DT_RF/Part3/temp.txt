-- Drop commands
DROP TABLE PLAY_SESSION;
DROP TABLE COMPUTER;
DROP TABLE LIBRARY_GAME;
DROP TABLE LIBRARY_;
DROP TABLE GAME;
DROP TABLE USER_SUBSCRIPTION;
DROP TABLE SUBSCRIPTION;
DROP TABLE USER_;


-- Create commands
CREATE TABLE USER_(
	username VARCHAR2(20) NOT NULL,
	u_name VARCHAR2(20) NOT NULL,
	surname VARCHAR2(20) NOT NULL,
	email VARCHAR2(40) NOT NULL,
	dob DATE NOT NULL,
	PRIMARY KEY(username)
);

CREATE TABLE SUBSCRIPTION(
	s_id NUMBER NOT NULL,
	s_type VARCHAR2(10) NOT NULL,
	monthly_price NUMBER NOT NULL,
	payment_type VARCHAR(20) NOT NULL,
	PRIMARY KEY(s_id)
);

CREATE TABLE USER_SUBSCRIPTION(
	username VARCHAR2(20) NOT NULL,
	s_id NUMBER NOT NULL,
	start_date DATE NOT NULL,
	end_date DATE NOT NULL,
	CONSTRAINT fk_subscriber FOREIGN KEY (username) 
	REFERENCES USER_(username),
	CONSTRAINT fk_sub FOREIGN KEY (s_id)
	REFERENCES SUBSCRIPTION(s_id),
	PRIMARY KEY(username,s_id)
);

CREATE TABLE GAME(
	g_id NUMBER NOT NULL,
	g_name VARCHAR2(40) NOT NULL,
	g_description VARCHAR2(300) NOT NULL,
	PRIMARY KEY(g_id)
);

CREATE TABLE LIBRARY_(
	connection_token CHAR(12) NOT NULL,
	l_name VARCHAR2(20) NOT NULL,
	username VARCHAR2(20) NOT NULL,
	CONSTRAINT fk_user FOREIGN KEY (username)
	REFERENCES USER_(username),
	PRIMARY KEY(connection_token)
);

CREATE TABLE LIBRARY_GAME(
	connection_token CHAR(12) NOT NULL,
	game_id NUMBER NOT NULL,
	CONSTRAINT fk_lib FOREIGN KEY (connection_token)
	REFERENCES LIBRARY_(connection_token),
	CONSTRAINT fk_game FOREIGN KEY (game_id)
	REFERENCES GAME(g_id),
	PRIMARY KEY(connection_token, game_id)
);

CREATE TABLE COMPUTER(
	c_id NUMBER NOT NULL,
	price NUMBER NOT NULL,
	cpu VARCHAR2(40) NOT NULL,
	gpu VARCHAR2(20),
	time_bought DATE NOT NULL,
	maintenance_date DATE NOT NULL,
	PRIMARY KEY(c_id)
);

CREATE TABLE PLAY_SESSION(
	g_id NUMBER NOT NULL,
	connection_token CHAR(12) NOT NULL,
	c_id NUMBER NOT NULL,
	start_date_time TIMESTAMP NOT NULL,
	end_date_time TIMESTAMP NOT NULL,
	CONSTRAINT fk_game_session FOREIGN KEY (g_id)
	REFERENCES GAME(g_id),
	CONSTRAINT fk_lib_session FOREIGN KEY (connection_token)
	REFERENCES LIBRARY_(connection_token),
	CONSTRAINT fk_computer FOREIGN KEY (c_id)
	REFERENCES COMPUTER(c_id),
	PRIMARY KEY(g_id,connection_token,c_id)
);


-- Insert commands
-- USER_
INSERT INTO USER_ (username, u_name, surname, email, dob) VALUES ('nheinritz0', 'Nil', 'Heinritz', 'nheinritz0@gmail.com', TO_DATE('6/24/1997','MM/DD/YYYY'));
INSERT INTO USER_ (username, u_name, surname, email, dob) VALUES ('ssolan5', 'Salim', 'Sloan', 'ssolan@gmail.com', TO_DATE('6/24/1997','MM/DD/YYYY'));
INSERT INTO USER_ (username, u_name, surname, email, dob) VALUES ('mrozenbaum1', 'Rozen', 'Baum', 'mrozenbaum@gmail.com', TO_DATE('3/6/1997','MM/DD/YYYY'));
INSERT INTO USER_ (username, u_name, surname, email, dob) VALUES ('irevie3', 'David', 'Irevie', 'irevie3@gmail.com', TO_DATE('5/22/1997','MM/DD/YYYY'));

-- SUBSCRIPTION
INSERT INTO SUBSCRIPTION (s_id, s_type, monthly_price, payment_type) VALUES(1,'high',450,'credit-card');
INSERT INTO SUBSCRIPTION (s_id, s_type, monthly_price, payment_type) VALUES(2,'medium',350,'paypal');
INSERT INTO SUBSCRIPTION (s_id, s_type, monthly_price, payment_type) VALUES(3,'low',150,'bank-transfer');
INSERT INTO SUBSCRIPTION (s_id, s_type, monthly_price, payment_type) VALUES(4,'high',450,'credit-card');
INSERT INTO SUBSCRIPTION (s_id, s_type, monthly_price, payment_type) VALUES(5,'low',450,'credit-card');

-- USER_SUBSCRIPTION
INSERT INTO USER_SUBSCRIPTION (username, s_id, start_date, end_date) VALUES ('nheinritz0', 1, TO_DATE('2/18/2021','MM/DD/YYYY'), TO_DATE('10/18/2021','MM/DD/YYYY'));
INSERT INTO USER_SUBSCRIPTION (username, s_id, start_date, end_date) VALUES ('ssolan5', 2, TO_DATE('5/23/2022','MM/DD/YYYY'), TO_DATE('5/23/2023','MM/DD/YYYY'));
INSERT INTO USER_SUBSCRIPTION (username, s_id, start_date, end_date) VALUES ('mrozenbaum1', 3, TO_DATE('12/3/2022','MM/DD/YYYY'), TO_DATE('6/3/2023','MM/DD/YYYY'));
INSERT INTO USER_SUBSCRIPTION (username, s_id, start_date, end_date) VALUES ('irevie3', 5, TO_DATE('4/11/2021','MM/DD/YYYY'), TO_DATE('12/31/2023','MM/DD/YYYY'));
INSERT INTO USER_SUBSCRIPTION (username, s_id, start_date, end_date) VALUES ('nheinritz0', 4, TO_DATE('10/19/2021','MM/DD/YYYY'), TO_DATE('10/19/2022','MM/DD/YYYY'));


-- GAME
INSERT INTO GAME (g_id, g_name, g_description) VALUES (1, 'God of War: Ragnarok', 'God of War Ragnar?k is an action-adventure game developed by Santa Monica Studio and published by Sony Interactive Entertainment. It was released worldwide on November 9, 2022, for the PlayStation 4 and PlayStation 5, marking the first cross-gen release in the God of War series.');
INSERT INTO GAME (g_id, g_name, g_description) VALUES (2, 'Cyberpunk 2077', 'Cyberpunk 2077 is an action role-playing video game developed by CD Projekt Red and published by CD Projekt. The story takes place in Night City, an open world set in the Cyberpunk universe.');
INSERT INTO GAME (g_id, g_name, g_description) VALUES (3,'Assassin''s Creed Valhalla', 'Assassin''s Creed Valhalla is a 2020 action role-playing video game developed by Ubisoft Montreal and published by Ubisoft. It is the twelfth major installment in the Assassin''s Creed series, and the successor to 2018''s Assassin''s Creed Odyssey.');
INSERT INTO GAME (g_id, g_name, g_description) VALUES (4, 'The Witcher 3: Wild Hunt','The Witcher 3: Wild Hunt is a 2015 action role-playing game developed and published by CD Projekt. It is the sequel to the 2011 game The Witcher 2: Assassins of Kings and the third game in The Witcher video game series, played in an open world with a third-person perspective.');
INSERT INTO GAME (g_id, g_name, g_description) VALUES (5,'Don''t Starve Together' ,'Don''t Starve Together is the standalone multiplayer expansion of the uncompromising wilderness survival game, Don''t Starve. Now including Reign of Giants; adding new characters, seasons, creatures, biomes, and Giant new challenges to Don''t Starve Together.');
INSERT INTO GAME (g_id, g_name, g_description) VALUES (6, 'We Were Here Together','Embark on a puzzle solving adventure in which you and a partner must prove you can communicate and work together to escape the haunted Castle Rock.');


-- LIBRARY_
INSERT INTO LIBRARY_ (connection_token, l_name, username) VALUES ('044e61f9d672', 'Steam', 'nheinritz0'); 
INSERT INTO LIBRARY_ (connection_token, l_name, username) VALUES ('9f9d8e6173ea', 'Epic Games', 'ssolan5');
INSERT INTO LIBRARY_ (connection_token, l_name, username) VALUES ('074a94021595', 'Steam', 'mrozenbaum1'); 
INSERT INTO LIBRARY_ (connection_token, l_name, username) VALUES ('881cd083a7c2', 'Steam', 'irevie3');
INSERT INTO LIBRARY_ (connection_token, l_name, username) VALUES ('1e89613783dd', 'Epic Games', 'irevie3');

-- LIBRARY_GAME
INSERT INTO LIBRARY_GAME (connection_token, game_id) VALUES ('044e61f9d672', 1);
INSERT INTO LIBRARY_GAME (connection_token, game_id) VALUES ('044e61f9d672', 3);
INSERT INTO LIBRARY_GAME (connection_token, game_id) VALUES ('044e61f9d672', 4);
INSERT INTO LIBRARY_GAME (connection_token, game_id) VALUES ('9f9d8e6173ea', 2);
INSERT INTO LIBRARY_GAME (connection_token, game_id) VALUES ('074a94021595', 5);
INSERT INTO LIBRARY_GAME (connection_token, game_id) VALUES ('074a94021595', 6);
INSERT INTO LIBRARY_GAME (connection_token, game_id) VALUES ('074a94021595', 4);
INSERT INTO LIBRARY_GAME (connection_token, game_id) VALUES ('1e89613783dd', 2);
INSERT INTO LIBRARY_GAME (connection_token, game_id) VALUES ('1e89613783dd', 3);
INSERT INTO LIBRARY_GAME (connection_token, game_id) VALUES ('881cd083a7c2', 1);
INSERT INTO LIBRARY_GAME (connection_token, game_id) VALUES ('881cd083a7c2', 4);

-- COMPUTER
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (1,12000, 'AMD Ryzen 3 4100 Processor', 'Nvdia GTX 1650', TO_DATE('3/15/2021','MM/DD/YYYY'),TO_DATE('12/21/2021','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (2,36000, 'Intel Core i7-12700F Processor', 'Nvdia RTX 3080', TO_DATE('1/27/2022','MM/DD/YYYY'),TO_DATE('6/30/2022','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (3,66000, 'Intel Core i9-12900K Processor', 'Nvdia RTX 3090', TO_DATE('5/6/2022','MM/DD/YYYY'),TO_DATE('11/6/2022','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (4,12000, 'AMD Ryzen 3 4100 Processor', 'Nvdia GTX 1650', TO_DATE('3/15/2021','MM/DD/YYYY'),TO_DATE('12/21/2021','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (5,36000, 'Intel Core i7-12700F Processor', 'Nvdia RTX 3080', TO_DATE('1/27/2022','MM/DD/YYYY'),TO_DATE('6/30/2022','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (6,66000, 'Intel Core i9-12900K Processor', 'Nvdia RTX 3090', TO_DATE('5/6/2022','MM/DD/YYYY'),TO_DATE('11/6/2022','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (7,12000, 'AMD Ryzen 3 4100 Processor', 'Nvdia GTX 1650', TO_DATE('3/15/2021','MM/DD/YYYY'),TO_DATE('12/21/2021','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (8,66000, 'Intel Core i9-12900K Processor', 'Nvdia RTX 3090', TO_DATE('5/6/2022','MM/DD/YYYY'),TO_DATE('11/6/2022','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (9,36000, 'Intel Core i7-12700F Processor', 'Nvdia RTX 3080', TO_DATE('1/27/2022','MM/DD/YYYY'),TO_DATE('6/30/2022','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (10,12000, 'AMD Ryzen 3 4100 Processor', 'Nvdia GTX 1650', TO_DATE('3/15/2021','MM/DD/YYYY'),TO_DATE('12/21/2021','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (11,66000, 'Intel Core i9-12900K Processor', 'Nvdia RTX 3090', TO_DATE('5/6/2022','MM/DD/YYYY'),TO_DATE('11/6/2022','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (12,36000, 'Intel Core i7-12700F Processor', 'Nvdia RTX 3080', TO_DATE('1/27/2022','MM/DD/YYYY'),TO_DATE('6/30/2022','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (13,66000, 'Intel Core i9-12900K Processor', 'Nvdia RTX 3090', TO_DATE('5/6/2022','MM/DD/YYYY'),TO_DATE('11/6/2022','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (14,66000, 'Intel Core i9-12900K Processor', 'Nvdia RTX 3090', TO_DATE('5/6/2022','MM/DD/YYYY'),TO_DATE('11/6/2022','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (15,36000, 'Intel Core i7-12700F Processor', 'Nvdia RTX 3080', TO_DATE('1/27/2022','MM/DD/YYYY'),TO_DATE('6/30/2022','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (16,66000, 'Intel Core i9-12900K Processor', 'Nvdia RTX 3090', TO_DATE('5/6/2022','MM/DD/YYYY'),TO_DATE('11/6/2022','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (17,36000, 'Intel Core i7-12700F Processor', 'Nvdia RTX 3080', TO_DATE('1/27/2022','MM/DD/YYYY'),TO_DATE('6/30/2022','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (18,36000, 'Intel Core i7-12700F Processor', 'Nvdia RTX 3080', TO_DATE('1/27/2022','MM/DD/YYYY'),TO_DATE('6/30/2022','MM/DD/YYYY'));
INSERT INTO COMPUTER (c_id, price, cpu, gpu, time_bought, maintenance_date) VALUES (19,12000, 'AMD Ryzen 3 4100 Processor', 'Nvdia GTX 1650', TO_DATE('3/15/2021','MM/DD/YYYY'),TO_DATE('12/21/2021','MM/DD/YYYY'));

-- PLAY_SESSION
INSERT INTO PLAY_SESSION (g_id, connection_token, c_id, start_date_time, end_date_time) VALUES (1,'044e61f9d672', 4, TO_TIMESTAMP('10/10/22 13:50', 'DD/MM/YY HH24:MI'),TO_TIMESTAMP('10/10/22 15:50', 'DD/MM/YY HH24:MI'));
INSERT INTO PLAY_SESSION (g_id, connection_token, c_id, start_date_time, end_date_time) VALUES (2,'9f9d8e6173ea', 2, TO_TIMESTAMP('8/11/22 18:36', 'DD/MM/YY HH24:MI'),TO_TIMESTAMP('8/11/22 23:53', 'DD/MM/YY HH24:MI'));
INSERT INTO PLAY_SESSION (g_id, connection_token, c_id, start_date_time, end_date_time) VALUES (6,'074a94021595', 6, TO_TIMESTAMP('23/4/22 9:50', 'DD/MM/YY HH24:MI'),TO_TIMESTAMP('23/4/22 12:53', 'DD/MM/YY HH24:MI'));
INSERT INTO PLAY_SESSION (g_id, connection_token, c_id, start_date_time, end_date_time) VALUES (3,'1e89613783dd', 3, TO_TIMESTAMP('18/10/22 21:38', 'DD/MM/YY HH24:MI'),TO_TIMESTAMP('18/10/22 12:01', 'DD/MM/YY HH24:MI'));
INSERT INTO PLAY_SESSION (g_id, connection_token, c_id, start_date_time, end_date_time) VALUES (3,'044e61f9d672', 1, TO_TIMESTAMP('14/10/22 13:50', 'DD/MM/YY HH24:MI'),TO_TIMESTAMP('14/10/22 15:50', 'DD/MM/YY HH24:MI'));
INSERT INTO PLAY_SESSION (g_id, connection_token, c_id, start_date_time, end_date_time) VALUES (2,'9f9d8e6173ea', 10, TO_TIMESTAMP('23/4/22 9:50', 'DD/MM/YY HH24:MI'),TO_TIMESTAMP('23/4/22 13:53', 'DD/MM/YY HH24:MI'));
INSERT INTO PLAY_SESSION (g_id, connection_token, c_id, start_date_time, end_date_time) VALUES (5,'074a94021595', 12, TO_TIMESTAMP('16/10/22 13:58', 'DD/MM/YY HH24:MI'),TO_TIMESTAMP('16/10/22 15:47', 'DD/MM/YY HH24:MI'));
INSERT INTO PLAY_SESSION (g_id, connection_token, c_id, start_date_time, end_date_time) VALUES (4,'881cd083a7c2', 8, TO_TIMESTAMP('13/11/22 22:10', 'DD/MM/YY HH24:MI'),TO_TIMESTAMP('13/11/22 0:26', 'DD/MM/YY HH24:MI'));
INSERT INTO PLAY_SESSION (g_id, connection_token, c_id, start_date_time, end_date_time) VALUES (4,'044e61f9d672', 19, TO_TIMESTAMP('13/11/22 22:10', 'DD/MM/YY HH24:MI'),TO_TIMESTAMP('13/11/22 0:26', 'DD/MM/YY HH24:MI'));
